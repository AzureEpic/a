local spinEnabled = false
local floatEnabled = false
local anchored = false
local givingMoney = false
local firstMeme 
local secondMeme
local spammingQueue = false

-- Load the Orion Library
local PlayerToysFolder = game.Players.LocalPlayer.Name .. "SpawnedInToys"
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

local plr = game.Players.LocalPlayer

local whitelisted = {"TheAzureEpic", "AssAssWithDik", "FreakyDaveFlinge"}

local isWhitelisted = false

for _, name in ipairs(whitelisted) do
	if plr.Name == name then
		isWhitelisted = true
		break
	end
end

if not isWhitelisted then
	OrionLib:MakeNotification({
		Name = "ruh roh!",
		Content = "sry skid but this is a private script :)",
		Image = "rbxassetid://4483345998",
		Time = 5
	})
	wait(5)
	return
end

local Window = OrionLib:MakeWindow({
	Name = "Better Meme",
	HidePremium = false,
	SaveConfig = true,
	ConfigFolder = "OrionTest"
})

local TabBM = Window:MakeTab({
	Name = "Better Meme",
	Icon = "rbxassetid://4483345998",
	PremiumOnly = false
})

-- Cash Button
TabBM:AddButton({
	Name = "+25 Cash (i cant change the amount it gives)",
	Callback = function()
		game:GetService("ReplicatedStorage").Services.DailyService.RF.GetReward:InvokeServer()
	end,
})

-- Auto Cash Toggle
TabBM:AddToggle({
	Name = "Auto give cash",
	Default = false,
	Callback = function(Value)
		givingMoney = Value
	end,
})

-- Queue Skibidi Button
TabBM:AddButton({
	Name = "Queue Skibidi and Wat the Sigma lol",
	Callback = function()
		local args = {
			[1] = "Skibidi Toilet",
			[2] = "Erm, What the Sigma?"
		}
		game:GetService("ReplicatedStorage").Services.MemeService.RF.QueueCurrencies:InvokeServer(unpack(args))
	end,
})

-- Meme Textbox 1
TabBM:AddTextbox({
	Name = "First meme to spawn",
	Default = "",
	TextDisappear = false,
	Callback = function(Value)
		firstMeme = Value
	end	  
})

-- Meme Textbox 2
TabBM:AddTextbox({
	Name = "Second meme to spawn",
	Default = "",
	TextDisappear = false,
	Callback = function(Value)
		secondMeme = Value
	end	  
})

-- Queue Typed Memes Button
TabBM:AddButton({
	Name = "Queue memes that were typed above",
	Callback = function()
		if firstMeme and secondMeme then
			local args = {firstMeme, secondMeme}
			game:GetService("ReplicatedStorage").Services.MemeService.RF.QueueCurrencies:InvokeServer(unpack(args))
		end
	end,
})

-- Spam Queue Toggle
TabBM:AddToggle({
	Name = "Spam queue with what you typed above",
	Default = false,
	Callback = function(Value)
		spammingQueue = Value
	end,
})

-- Main Loop
game:GetService("RunService").Heartbeat:Connect(function()
	if givingMoney then
		game:GetService("ReplicatedStorage").Services.DailyService.RF.GetReward:InvokeServer()
	end
	if spammingQueue and firstMeme and secondMeme then
		local args = {firstMeme, secondMeme}
		game:GetService("ReplicatedStorage").Services.MemeService.RF.QueueCurrencies:InvokeServer(unpack(args))
	end
end)

-- Initialize the Orion Library UI
OrionLib:Init()
